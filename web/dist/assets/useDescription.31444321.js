var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,o=(e,t)=>{for(var s in t||(t={}))a.call(t,s)&&l(e,s,t[s]);if(n)for(var s of n(t))r.call(t,s)&&l(e,s,t[s]);return e},i=(e,n)=>t(e,s(n));import{j as c,r as u,i as p,u as f,n as d,bk as b,bl as m,N as v,bm as y,a1 as j}from"./vendor.0af35baf.js";import{p as O,c as h,ab as x,j as g,ac as P,ad as w,ae as D}from"./index.36aa7878.js";var E=c({name:"Description",props:{useCollapse:O.bool.def(!0),title:O.string.def(""),size:O.oneOf(["small","default","middle",void 0]).def("small"),bordered:O.bool.def(!0),column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:O.object},emits:["register"],setup(e,{slots:t,emit:s}){const n=u(null),{prefixCls:a}=h("description"),r=x(),l=p((()=>o(o({},e),f(n)))),c=p((()=>i(o({},f(l)),{title:void 0}))),j=p((()=>!!f(l).title)),O=p((()=>o({canExpand:!1},f(c).collapseOptions))),D=p((()=>o(o({},f(r)),f(c))));function E({label:e,labelMinWidth:t,labelStyle:s}){if(!s&&!t)return e;const n=i(o({},s),{minWidth:`${t}px `});return d("div",{style:n},[e])}const C=()=>{let e;return d(b,v({class:`${a}`},f(D)),"function"==typeof(t=e=function(){const{schema:e,data:t}=f(c);return f(e).map((e=>{const{render:s,field:n,span:a,show:r,contentMinWidth:l}=e;if(r&&g(r)&&!r(t))return null;const o=()=>{var e;const t=null==(e=f(c))?void 0:e.data;if(!t)return null;const a=y(t,n);return g(s)?s(a,t):null!=a?a:""},i=l;return d(b.Item,{label:E(e),key:n,span:a},{default:()=>l?d("div",{style:{minWidth:`${i}px`}},[o()]):o()})})).filter((e=>!!e))}())||"[object Object]"===Object.prototype.toString.call(t)&&!m(t)?e:{default:()=>[e]});var t};return s("register",{setDescProps:function(e){n.value=o(o({},f(n)),e)}}),()=>f(j)?(()=>{const s=e.useCollapse?C():d("div",null,[C()]);if(!e.useCollapse)return s;const{canExpand:n,helpMessage:a}=f(O),{title:r}=f(l);return d(w,{title:r,canExpan:n,helpMessage:a},{default:()=>s,action:()=>P(t,"action")})})():C()}});function C(e){if(!j())throw new Error("Please put useDescription function in the setup function!");const t=u(null),s=u(!1);return[function(n){f(s)&&D()||(t.value=n,e&&n.setDescProps(e),s.value=!0)},{setDescProps:e=>{var s;null==(s=f(t))||s.setDescProps(e)}}]}export{E as _,C as u};
