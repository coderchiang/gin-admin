var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,l=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,r=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&l(e,a,r[a]);if(n)for(var a of n(r))o.call(r,a)&&l(e,a,r[a]);return e};import{n as a,W as s,ac as c,a0 as i,cc as u,cd as p,J as f,S as d,e as m,aj as b,Y as v,Z as y,v as h,w as x,aq as g,b_ as C,ai as w,$ as j,au as O,g as P,ce as S,k,A as D,av as E,af as I,q as z,cf as N,cg as W,as as A,ch as M}from"./index.c68bc564.js";import{r as $,a as L}from"./responsiveObserve.c545f1cc.js";import{g as V}from"./get.402f11ff.js";function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){return null!=e}var _=function(e){var t,n=e.itemPrefixCls,o=e.component,l=e.span,r=e.bordered,s=e.label,c=e.content,i=e.colon,u=o;return r?a(u,{class:[(t={},q(t,"".concat(n,"-item-label"),B(s)),q(t,"".concat(n,"-item-content"),B(c)),t)],colSpan:l},{default:function(){return[B(s)?s:c]}}):a(u,{class:["".concat(n,"-item")],colSpan:l},{default:function(){return[s&&a("span",{class:["".concat(n,"-item-label"),q({},"".concat(n,"-item-no-colon"),!i)]},[s]),c&&a("span",{class:"".concat(n,"-item-content")},[c])]}})},J=function(e){var t=function(e,t,n){var o=t.colon,l=t.prefixCls,r=t.bordered,f=n.component,d=n.type,m=n.showLabel,b=n.showContent;return e.map((function(e,t){var n=s(e),v=n.prefixCls,y=void 0===v?l:v,h=n.span,x=void 0===h?1:h,g=c(e,"label"),C=i(e),w=u(e),j=p(e),O=e.key;return"string"==typeof f?a(_,{key:"".concat(d,"-").concat(O||t),class:w,style:j,span:x,colon:o,component:f,itemPrefixCls:y,bordered:r,label:m?g:null,content:b?C:null},null):[a(_,{key:"label-".concat(O||t),class:w,style:j,span:1,colon:o,component:f[0],itemPrefixCls:y,bordered:r,label:g},null),a(_,{key:"content-".concat(O||t),class:w,style:j,span:2*x-1,component:f[1],itemPrefixCls:y,bordered:r,content:C},null)]}))},n=e.prefixCls,o=e.vertical,l=e.row,r=e.index,d=e.bordered;return o?a(f,null,[a("tr",{key:"label-".concat(r),class:"".concat(n,"-row")},[t(l,e,{component:"th",type:"label",showLabel:!0})]),a("tr",{key:"content-".concat(r),class:"".concat(n,"-row")},[t(l,e,{component:"td",type:"content",showContent:!0})])]):a("tr",{key:r,class:"".concat(n,"-row")},[t(l,e,{component:d?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0})])};function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}d.string,d.any,d.number;var F=m({name:"ADescriptionsItem",props:{prefixCls:d.string,label:d.VNodeChild,span:d.number.def(1)},render:function(){return null}}),G={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function H(e,t,n){var o=e;return(void 0===t||t>n)&&(o=w(e,{span:n}),j(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}var K={prefixCls:d.string,bordered:d.looseBool,size:d.oneOf(b("default","middle","small")).def("default"),title:d.VNodeChild,extra:d.VNodeChild,column:{type:[Number,Object],default:function(){return G}},layout:d.oneOf(b("horizontal","vertical")),colon:d.looseBool},Q=m({name:"ADescriptions",Item:F,setup:function(e,t){var n,o=t.slots,l=v("configProvider",y).getPrefixCls,r=h({});return x((function(){n=$.subscribe((function(t){"object"===Z(e.column)&&(r.value=t)}))})),g((function(){$.unsubscribe(n)})),function(){var t,n,s,c,i=e.prefixCls,u=e.column,p=e.size,f=e.bordered,d=void 0!==f&&f,m=e.layout,b=void 0===m?"horizontal":m,v=e.colon,y=void 0===v||v,h=e.title,x=void 0===h?null===(n=o.title)||void 0===n?void 0:n.call(o):h,g=e.extra,w=void 0===g?null===(s=o.extra)||void 0===s?void 0:s.call(o):g,j=l("descriptions",i),O=function(e,t){if("number"==typeof e)return e;if("object"===Z(e))for(var n=0;n<L.length;n++){var o=L[n];if(t[o]&&void 0!==e[o])return e[o]||G[o]}return 3}(u,r.value),P=function(e,t){var n=C(e),o=[],l=[],r=t;return n.forEach((function(e,a){var s,c=null===(s=e.props)||void 0===s?void 0:s.span,i=c||1;if(a===n.length-1)return l.push(H(e,c,r)),void o.push(l);i<r?(r-=i,l.push(e)):(l.push(H(e,i,r)),o.push(l),r=t,l=[])})),o}(null===(c=o.default)||void 0===c?void 0:c.call(o),O);return a("div",{class:[j,(t={},Y(t,"".concat(j,"-").concat(p),"default"!==p),Y(t,"".concat(j,"-bordered"),!!d),t)]},[(x||w)&&a("div",{class:"".concat(j,"-header")},[a("div",{class:"".concat(j,"-title")},[x]),a("div",{class:"".concat(j,"-extra")},[w])]),a("div",{class:"".concat(j,"-view")},[a("table",null,[a("tbody",null,[P.map((function(e,t){return a(J,{key:t,index:t,colon:y,prefixCls:j,vertical:"vertical"===b,bordered:d,row:e},null)}))])])])])}}});Q.props=K,Q.install=function(e){return e.component(Q.name,Q),e.component(Q.Item.name,Q.Item),e};var R=m({name:"Description",props:{useCollapse:O.bool.def(!0),title:O.string.def(""),size:O.oneOf(["small","default","middle",void 0]).def("small"),bordered:O.bool.def(!0),column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:O.object},emits:["register"],setup(e,{slots:t,emit:n}){const o=h(null),{prefixCls:l}=P("description"),s=S(),c=k((()=>r(r({},e),D(o)))),i=k((()=>r(r({},D(c)),{title:void 0}))),u=k((()=>!!D(c).title)),p=k((()=>r({canExpand:!1},D(i).collapseOptions))),f=k((()=>r(r({},D(s)),D(i))));function d({label:e,labelMinWidth:t,labelStyle:n}){if(!n&&!t)return e;const o=r(r({},n),{minWidth:`${t}px `});return a("div",{style:o},[e])}const m=()=>{let e;return a(Q,z({class:`${l}`},D(f)),"function"==typeof(t=e=function(){const{schema:e,data:t}=D(i);return D(e).map((e=>{const{render:n,field:o,span:l,show:r,contentMinWidth:s}=e;if(r&&E(r)&&!r(t))return null;const c=()=>{var e;const t=null==(e=D(i))?void 0:e.data;if(!t)return null;const l=V(t,o);return E(n)?n(l,t):null!=l?l:""},u=s;return a(Q.Item,{label:d(e),key:o,span:l},{default:()=>s?a("div",{style:{minWidth:`${u}px`}},[c()]):c()})})).filter((e=>!!e))}())||"[object Object]"===Object.prototype.toString.call(t)&&!I(t)?e:{default:()=>[e]});var t};return n("register",{setDescProps:function(e){o.value=r(r({},D(o)),e)}}),()=>D(u)?(()=>{const n=e.useCollapse?m():a("div",null,[m()]);if(!e.useCollapse)return n;const{canExpand:o,helpMessage:l}=D(p),{title:r}=D(c);return a(W,{title:r,canExpan:o,helpMessage:l},{default:()=>n,action:()=>N(t,"action")})})():m()}});function T(e){if(!A())throw new Error("Please put useDescription function in the setup function!");const t=h(null),n=h(!1);return[function(o){D(n)&&M()||(t.value=o,e&&o.setDescProps(e),n.value=!0)},{setDescProps:e=>{var n;null==(n=D(t))||n.setDescProps(e)}}]}export{R as _,T as u};
